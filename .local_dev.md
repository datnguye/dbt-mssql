# Requirements:
- python 3.x
- dbt 0.20.2


# Steps to intialize local dev enviroment

## Install dbt & the mssql plugin (Windows)
dbt installed version: 0.20.2
Plugins - sqlserver: 0.20.1
```
python -m venv env
.\env\Scripts\activate
python -m pip install --upgrade pip==21.2.4
python -m pip install --upgrade dbt==20.0.2
python -m pip install dbt-sqlserver
```


## Create dbt profile (Windows)
File name: profiles.yml located in user home folder within .dbt folder
```
mkdir "%userprofile%/.dbt"
xcopy ".dbt_profiles.yml" "%userprofile%/.dbt/profiles.yml" /Y
dbt deps --project-dir ./dbt
```
Find [mssql-profile](https://docs.getdbt.com/reference/warehouse-profiles/mssql-profile) for more options


## Install dbt packages 
You will find the basic packages in [packages.yml](packages.yml)
```
dbt deps --project-dir ./dbt
```

## Let's run the first model
```
dbt run --project-dir ./dbt --target dev --models my_first_dbt_model
```

Off we go!
```
Running with dbt=0.20.2
Found 2 models, 4 tests, 0 snapshots, 0 analyses, 161 macros, 0 operations, 0 seed files, 0 sources, 0 exposures

11:50:46 | Concurrency: 1 threads (target='dev')
11:50:46 | 
11:50:46 | 1 of 1 START table model dbo.my_first_dbt_model...................... [RUN]
11:50:47 | 1 of 1 OK created table model dbo.my_first_dbt_model................. [OK in 0.30s]
11:50:47 | 
11:50:47 | Finished running 1 table model in 0.43s.

Completed successfully

Done. PASS=1 WARN=0 ERROR=0 SKIP=0 TOTAL=1
```